"use strict";function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));var isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function formAddError(e){e.classList.add("_error"),e.parentElement.classList.add("_error")}function formRemoveError(e){e.classList.remove("_error"),e.parentElement.classList.remove("_error")}function emailTest(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)}const popupResponses={error:{title:"Вы не заполнили обязательные поля!",src:"img/popup/2.png",srcset:"img/popup/2.webp",elemValue:"Пожалуйста, заполните все обязательные поля"},default:{title:document.querySelector(".popup__title").textContent.trim(),src:"img/popup/1.png",srcset:"img/popup/1.webp"},success:{src:"img/popup/3.png",srcset:"img/popup/3.webp"}};window.onload=()=>{(()=>{const e=document.querySelector(".header"),t=document.querySelector(".header-scroll"),r=document.querySelector(".header-scroll__burger"),o=document.querySelector(".header-scroll__menu"),s=document.querySelector(".scroll-menu__close"),n=document.querySelector(".footer"),l=document.querySelector(".cities-header");function i(){n.style.marginBottom=t.clientHeight+"px"}document.querySelectorAll(".banner-popup__subtitle").forEach(e=>{e.textContent="Делаем ваш бизнес узнаваемым в городе "+document.querySelector(".top-header__city-name").textContent.trim()}),window.scrollY>2*e.clientHeight&&t.classList.add("_scroll"),window.addEventListener("scroll",()=>{window.scrollY>2*e.clientHeight?t.classList.add("_scroll"):(t.classList.remove("_scroll"),o.classList.remove("_open"))}),r.addEventListener("click",()=>{o.classList.add("_open")}),s.addEventListener("click",()=>{o.classList.remove("_open")}),window.matchMedia("(max-width: 767.98px)").matches&&i(),window.addEventListener("resize",()=>{window.innerWidth<767.98?i():n.style.marginBottom="0px"}),document.addEventListener("click",e=>{const t=e.target;if(!t.closest(".top-header__location")||t.closest(".cities-header__close"))l.classList.remove("_opened");else if(t.closest(".cities-header__item")){const e=t.textContent;document.querySelector(".top-header__city-name").textContent=e,document.querySelectorAll(".banner-popup__subtitle").forEach(e=>{e.textContent="Делаем ваш бизнес узнаваемым в городе "+document.querySelector(".top-header__city-name").textContent.trim()})}else t.closest(".top-header__city-wrapper")&&l.classList.toggle("_opened")})})();(()=>{const e=document.querySelectorAll("form");for(var t=0;t<e.length;t++){e[t].addEventListener("submit",r)}async function r(e){e.preventDefault();const t=e.currentTarget;if(0===function(e){let t=0,r=e.querySelectorAll("._req");for(var o=0;o<r.length;o++){let e=r[o];formRemoveError(e),e.classList.contains("_email")?emailTest(e)||(formAddError(e),t++):""==e.value&&(formAddError(e),t++)}return t}(t))if(t.closest(".popup__content")){const e=t.parentElement.querySelector(".popup__border"),r=t.parentElement.querySelector(".popup__title");r.textContent=popupResponses.default.title,r.style.color="inherit",e.querySelector("img").setAttribute("src",popupResponses.success.src),e.querySelector("source").setAttribute("srcset",popupResponses.success.srcset),t.closest(".popup").classList.add("_success"),t.querySelector(".popup__error")&&t.removeChild(t.querySelector(".popup__error"))}else t.querySelector(".error-element")&&t.removeChild(t.querySelector(".error-element"));else if(t.closest(".popup__content")){const e=t.parentElement.querySelector(".popup__border"),r=t.parentElement.querySelector(".popup__title");if(!document.querySelector(".popup__error")){const e=document.createElement("div");e.className="popup__error",e.textContent=popupResponses.error.elemValue,t.appendChild(e)}r.textContent=popupResponses.error.title,r.style.color="red",e.querySelector("img").setAttribute("src",popupResponses.error.src),e.querySelector("source").setAttribute("srcset",popupResponses.error.srcset)}else if(!t.querySelector(".error-element")){const e=document.createElement("div");e.className="error-element",e.textContent="Пожалуйста, проверьте одно из полей введено неправильно.",t.appendChild(e)}}})();((e,t)=>{let r=document.querySelector(e),o=document.querySelector(t);r.addEventListener("change",e=>{!function(e){if(void 0!==e){if(!["image/jpeg","image/png","image/webp","application/pdf"].includes(e.type))return alert("Данный формат не поддерживается!"),void(r.value="");let t=new FileReader,s=e.name.length>20?e.name.slice(0,20)+"...":e.name;t.onload=function(e){o.innerHTML=s},t.onerror=function(e){alert("Произошла ошибка")},t.readAsDataURL(e)}}(r.files[0])})})("#layoutFile",".layout__file-text");(()=>{let e=document.querySelectorAll("input[data-tel-input]");for(let t of e)t.addEventListener("keydown",s),t.addEventListener("input",o,!1),t.addEventListener("paste",r,!1);function t(e){return e.value.replace(/\D/g,"")}function r(e){let r=e.target,o=t(r),s=e.clipboardData||window.clipboardData;if(s){let e=s.getData("Text");if(/\D/g.test(e))return void(r.value=o)}}function o(e){let r=e.target,o=t(r),s=r.selectionStart,n="";if(!o)return r.value="";if(r.value.length==s){if(["7","8","9"].indexOf(o[0])>-1){"9"==o[0]&&(o="7"+o);let e="8"==o[0]?"8":"+7";n=r.value=e+" ",o.length>1&&(n+="("+o.substring(1,4)),o.length>=5&&(n+=") "+o.substring(4,7)),o.length>=8&&(n+="-"+o.substring(7,9)),o.length>=10&&(n+="-"+o.substring(9,11))}else n="+"+o.substring(0,16);r.value=n}else e.data&&/\D/g.test(e.data)&&(r.value=o)}function s(e){let t=e.target.value.replace(/\D/g,"");8==e.keyCode&&1==t.length&&(e.target.value="")}})();(()=>{let e=document.querySelector(".map");function t(){if("undefined"==typeof ymaps)return;document.getElementById("ymap");ymaps.ready((function(){let e=new ymaps.Map("ymap",{center:[55.98337568661991,92.89800849999992],zoom:17,controls:["zoomControl"],behaviors:["drag"]}),t=new ymaps.Placemark([55.98337568661991,92.89800849999992],{hintContent:"BIGFORMAT"},{iconLayout:"default#image",iconImageHref:"img/marker.png",iconImageSize:[60,72],iconImageOffset:[-35,-70]});e.geoObjects.add(t)}))}function r(){let o=e.getBoundingClientRect().top,s=window.pageYOffset,n=o+s;s+window.innerHeight>n&&(!function(){let e=document.createElement("script");e.src="https://api-maps.yandex.ru/2.1/?lang=ru_RU",document.body.appendChild(e),e.onload=t}(),window.removeEventListener("scroll",r))}window.addEventListener("scroll",r),r()})();(()=>{const e=document.querySelector(".to-top");function t(){let t=document.querySelector(".footer").getBoundingClientRect().top,r=window.pageYOffset,o=t+r;r+window.innerHeight>o?(e.style.position="absolute",e.style.top=o-e.clientHeight-32.5+"px"):(e.style.position="fixed",e.style.top="auto")}window.scrollY>1.5*window.innerHeight&&e.classList.add("_active"),t(),window.addEventListener("scroll",()=>{window.scrollY>1.5*window.innerHeight?e.classList.add("_active"):e.classList.remove("_active"),t()}),e.addEventListener("click",()=>{window.scrollBy({top:-window.pageYOffset,behavior:"smooth"})})})();(()=>{document.querySelector(".left-service__tabs");const e=document.querySelectorAll(".left-service__tab"),t=document.querySelectorAll(".right-service__content"),r=document.querySelectorAll(".left-service__img");for(let t=0;t<e.length;t++){const r=e[t];r.addEventListener("click",()=>{e.forEach((e,t)=>{r==e&&(o(),s(t))})})}function o(){t.forEach(e=>{e.classList.remove("_shown")}),r.forEach(e=>{e.classList.remove("_shown")}),e.forEach(e=>{e.classList.remove("_shown")})}function s(o){t[o].classList.add("_shown"),r[o].classList.add("_shown"),e[o].classList.add("_shown")}})();((e,t)=>{const r=e=>e<=9?"0"+e:e.toString();((e,t)=>{const o=document.querySelector(e),s=o.querySelector("#hours"),n=o.querySelector("#minutes"),l=o.querySelector("#seconds"),i=setInterval(c,1e3);function c(){const e=(e=>{const t=Date.parse(e)-Date.parse(new Date),r=Math.floor(t/1e3%60),o=Math.floor(t/1e3/60%60);return{total:t,hours:Math.floor(t/36e5%24),minutes:o,seconds:r}})(t);s.querySelector("span:first-child").textContent=r(e.hours)[0],s.querySelector("span:last-child").textContent=r(e.hours)[1],n.querySelector("span:first-child").textContent=r(e.minutes)[0],n.querySelector("span:last-child").textContent=r(e.minutes)[1],l.querySelector("span:first-child").textContent=r(e.seconds)[0],l.querySelector("span:last-child").textContent=r(e.seconds)[1],e.total<=0&&(s.textContent="00",n.textContent="00",l.textContent="00",clearInterval(i))}c()})(e,t)})(".offer__timer",document.querySelector(".offer__timer").getAttribute("data-deadline"));const e=(e,t,r,o,s=0)=>{const n=Array.from(document.querySelectorAll(e)),l=document.querySelector(t),i=l.querySelector("span").textContent;let c=!1;o=s&&window.matchMedia("(max-width: 575.98px)").matches?s:o,n.slice(0,o).forEach(e=>{e.classList.add("_shown")}),l.addEventListener("click",()=>{c?(n.slice(o).forEach(e=>{!function(e){var t=1,r=setInterval((function(){t<=.1&&(clearInterval(r),e.style.display="none"),e.style.opacity=t,t-=.1*t}),15)}(e)}),c=!1,l.querySelector("span").textContent=i):(n.slice(o).forEach(e=>{!function(e){var t=.1;e.style.opacity=t,e.style.display=r;var o=setInterval((function(){t>=1&&clearInterval(o),e.style.opacity=t,t+=.1*t}),15)}(e)}),c=!0,l.querySelector("span").textContent="Свернуть")})};e(".partners__item",".partners__btn","flex",20,10),e(".work_show_more",".work__watch","block",4);const t=(e,t)=>{const r=document.querySelectorAll(".suggest__view-option"),o=(document.querySelector(".suggest__slider"),Array.from(document.querySelectorAll(".suggest__name")).map(e=>e.textContent)),s=Array.from(document.querySelectorAll(".suggest__img img")).map(e=>e.getAttribute("src")),n=e.params.slidesPerView,l=e.params.spaceBetween,i=e.params.centeredSlides;let c=Array.from(document.querySelectorAll("._banner-link"));r.forEach(t=>{t.addEventListener("click",()=>{var a;e.removeAllSlides(),c=[],a=t,r.forEach(e=>e.classList.remove("_active")),a.classList.add("_active"),t.classList.contains("_list")?function(){let t=0;e.params.slidesPerView=window.innerWidth<768?1:4;for(let t=0;t<4;t++)e.appendSlide('<div class="suggest__list-slide swiper-slide"></div>');e.params.centeredSlides=!1,e.params.spaceBetween=30;const r=document.querySelectorAll(".suggest__list-slide");for(;t<o.length;){const e=document.createElement("div");e.className="suggest__list-body",e.innerHTML=`<a href="#bannerPopup" class="popup-link _banner-link">${o[t]}</a>`,r[t%4].appendChild(e),c.push(e.querySelector("._banner-link")),t++}}():function(){e.params.slidesPerView=n,e.params.centeredSlides=i,e.params.spaceBetween=l;for(let t=0;t<o.length;t++){const r=`<div class="suggest__img">\n                           <img src="${s[t]}" alt="">\n                           <a href="#bannerPopup" class="suggest__link popup-link _banner-link">\n                              <span class="suggest__link-text">Подробнее</span>\n                              <span class="suggest__link-icon _icon-arrow"></span>\n                           </a>\n                       </div>\n                       <div class="suggest__name">${o[t]}</div>\n                       `;e.appendSlide(`<div class="suggest__slide swiper-slide">${r}</div>`)}c=document.querySelectorAll("._banner-link")}(),e.update(),e.updateSlides()})}),document.addEventListener("click",e=>{const r=e.target;if(r.closest("._banner-link")){let e=r.closest("._banner-link");if(e.classList.contains("suggest__link")){const r=Array.from(document.querySelectorAll(".suggest__slide")).indexOf(e.closest(".suggest__slide"));t.slideTo(r+1,1)}else{const r=Array.from(c).indexOf(e);t.slideTo(r+1,1)}}})};(()=>{function e(){const e=this.el,t=e.querySelector("._current")||e.parentElement.querySelector("._current"),r=e.querySelector("._following")||e.parentElement.querySelector("._following"),o=e.querySelector("._next")||e.parentElement.querySelector("._next"),s=this.slides.length-2*this.loopedSlides;t.textContent=this.realIndex+1==s?s:(this.realIndex+1)%s,r.textContent=this.realIndex+2==s?s:(this.realIndex+2)%s,o.textContent=this.realIndex+3==s?s:(this.realIndex+3)%s}new Swiper(".intro__slider",{speed:800,loop:!0,simulateTouch:!1,allowTouchMove:!1,autoplay:!0,autoplaySpeed:3300,effect:"fade",fadeEffect:{crossFade:!0},preloadImages:!1,lazy:{loadPrevNext:!0},watchSlidesProgress:!0,watchSlidesVisibility:!0});const r=new Swiper(".letter__slider",{slideActiveClass:"letter__slide-active",loop:!0,speed:800,grabCursor:!0,slidesPerView:"auto",slideToClickedSlide:!0,centeredSlides:!0,effect:"coverflow",coverflowEffect:{rotate:0,depth:100,stretch:0,modifier:2,slideShadows:!1},navigation:{nextEl:".letter__next",prevEl:".letter__prev"},on:{slideChange:e},breakpoints:{320:{slidesPerView:1,effect:"slide",spaceBetween:15},768:{slidesPerView:"auto",effect:"coverflow",coverflowEffect:{rotate:0,depth:100,stretch:0,modifier:2,slideShadows:!1}}}}),o=new Swiper(".letter-popup__slider",{loop:!0,speed:800,simulateTouch:!1,allowTouchMove:!1,slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},navigation:{nextEl:".letter-popup__next",prevEl:".letter-popup__prev"},on:{slideChange:e},preloadImages:!1,lazy:{loadPrevNext:!0},watchSlidesProgress:!0,watchSlidesVisibility:!0}),s=document.querySelectorAll(".letter__slide");for(let e=0;e<s.length;e++){s[e].addEventListener("click",()=>{o.slideTo(r.realIndex+1,100)})}const n=new Swiper(".suggest__slider",{slidesPerView:5,spaceBetween:63,centeredSlides:!0,simulateTouch:!0,initialSlide:2,slideActiveClass:"suggest__slide-active",speed:800,navigation:{nextEl:".suggest__next",prevEl:".suggest__prev"},observeParents:!0,observeSlideChildren:!0,observer:!0,breakpoints:{320:{slidesPerView:1.6,centeredSlides:!1,spaceBetween:30,initialSlide:0},768:{slidesPerView:3,spaceBetween:50,centeredSlides:!0,initialSlide:1},942:{spaceBetween:25,slidesPerView:5,initialSlide:2},992:{spaceBetween:63}}}),l=new Swiper(".banner-popup__slider",{loop:!0,speed:800,simulateTouch:!1,allowTouchMove:!1,slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},navigation:{nextEl:".banner-popup__next",prevEl:".banner-popup__prev"},on:{slideChange:function(){const e=document.querySelector(".banner-popup__current"),t=document.querySelector(".banner-popup__total");e.textContent=this.realIndex+1,t.textContent=this.slides.length-2*this.loopedSlides}},preloadImages:!1,lazy:{loadPrevNext:!0},watchSlidesProgress:!0,watchSlidesVisibility:!0});t(n,l)})();(()=>{document.querySelectorAll(".popup-link");const e=document.querySelector("body"),t=document.querySelectorAll(".lock-padding");let r=!0;document.addEventListener("click",(function(o){const n=o.target.closest(".popup-link")||o.target;if(n.classList.contains("popup-link")){const l=n.getAttribute("href").replace("#","");!function(o){if(o&&r){const n=document.querySelector(".popup._open");n?s(n,!1):function(){const o=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(t.length>0)for(let e=0;e<t.length;e++){t[e].style.paddingRight=o}e.style.paddingRight=o,e.classList.add("_lock"),r=!1,setTimeout((function(){r=!0}),800)}(),isMobile.any()&&history.pushState("",document.title,window.location.pathname+"#emerge"),o.classList.add("_open"),o.addEventListener("click",(function(e){e.target.closest(".popup__content")||s(e.target.closest(".popup"))}))}}(document.getElementById(l)),o.preventDefault()}}));const o=document.querySelectorAll(".close-popup");if(o.length>0)for(let e=0;e<o.length;e++){const t=o[e];t.addEventListener("click",(function(e){s(t.closest(".popup")),e.preventDefault()}))}function s(o,s=!0){r&&(isMobile.any()&&history.pushState("",document.title,window.location.pathname),o.classList.remove("_open"),o.classList.contains("_form-popup")&&o.classList.contains("_success")&&setTimeout(()=>{const e=o.parentElement.querySelector(".popup__border");e.querySelector("img").setAttribute("src",popupResponses.default.src),e.querySelector("source").setAttribute("srcset",popupResponses.default.srcset),o.classList.remove("_success")},800),s&&(setTimeout((function(){if(t.length>0)for(let e=0;e<t.length;e++)t[e].style.paddingRight="0px";e.style.paddingRight="0px",e.classList.remove("_lock")}),800),r=!1,setTimeout((function(){r=!0}),800)))}document.addEventListener("keydown",(function(e){if(27===e.which){s(document.querySelector(".popup._open"))}}))})();(()=>{const e=document.querySelector(".form_with_label").querySelectorAll(".input_with_label");for(let t=0;t<e.length;t++){const r=e[t];r.querySelector("input").addEventListener("focus",()=>{r.querySelector("label").classList.add("_hide")}),r.querySelector("input").addEventListener("blur",()=>{""==r.querySelector("input").value&&r.querySelector("label").classList.remove("_hide")})}})();(()=>{const e=Array.from(document.querySelectorAll(".steps__item")),t=document.querySelector(".steps__desc-img"),r=document.querySelector(".steps__desc-text"),o=document.querySelector(".steps");function s(){const n=o.getBoundingClientRect().top,l=window.pageYOffset,i=n+l;l+window.innerHeight>i+o.clientWidth/4&&l-window.innerHeight<i-o.clientWidth/4&&(!function(){let o=1,s=setInterval(()=>{o>=e.length-1&&(clearInterval(s),function(){for(let o=0;o<e.length;o++){const s=e[o];isMobile.any()?s.addEventListener("click",()=>{const n=s.getAttribute("data-img"),l=s.getAttribute("data-text");e.forEach(e=>e.classList.remove("_hovered")),e.slice(0,o+1).forEach(e=>{e.classList.add("_hovered")}),t.querySelector("img").setAttribute("src",n),t.querySelector("source").setAttribute("srcset",n.split(".")[0]+".webp"),r.innerHTML=l}):s.addEventListener("mouseover",()=>{const n=s.getAttribute("data-img"),l=s.getAttribute("data-text");e.forEach(e=>e.classList.remove("_hovered")),e.slice(0,o+1).forEach(e=>{e.classList.add("_hovered")}),t.querySelector("img").setAttribute("src",n),t.querySelector("source").setAttribute("srcset",n.split(".")[0]+".webp"),r.innerHTML=l})}}());const n=e[o],l=n.getAttribute("data-img"),i=n.getAttribute("data-text");n.classList.add("_hovered"),r.innerHTML=i,t.querySelector("img").setAttribute("src",l),t.querySelector("source").setAttribute("srcset",l.split(".")[0]+".webp"),o++},750)}(),window.removeEventListener("scroll",s))}window.addEventListener("scroll",s),s()})();(()=>{const e=document.querySelectorAll("a._anchor-scroll");for(let t=0;t<e.length;t++){const r=e[t];r.addEventListener("click",e=>{e.preventDefault();const t=r.getAttribute("href").replace("#",""),o=document.getElementById(t),s=window.innerWidth<767.98?0:document.querySelector(".header-scroll").offsetHeight,n=o.getBoundingClientRect().top-s;if(document.querySelector(".scroll-menu").classList.remove("_open"),window.scrollBy({top:n,behavior:"smooth"}),r.hasAttribute("data-tab")){const e=r.getAttribute("data-tab"),t=document.querySelectorAll(".left-service__tab"),o=document.querySelectorAll(".left-service__img"),s=document.querySelectorAll(".right-service__content");let n,l,i;for(let r=0;r<t.length;r++){const c=t[r],a=o[r],d=s[r];c.classList.remove("_shown"),a.classList.remove("_shown"),d.classList.remove("_shown"),c.classList.contains(e)&&(n=c),a.classList.contains(e)&&(l=a),d.classList.contains(e)&&(i=d)}n.classList.add("_shown"),l.classList.add("_shown"),i.classList.add("_shown")}})}})();(()=>{const e=document.querySelectorAll(".work__item"),t=document.querySelector(".work__address");for(let r=0;r<e.length;r++){const o=e[r];isMobile.any()?o.addEventListener("click",()=>{e.forEach(e=>e.classList.remove("_active")),o.classList.add("_active"),t.innerHTML=o.getAttribute("data-address")}):o.addEventListener("mouseover",()=>{e.forEach(e=>e.classList.remove("_active")),o.classList.add("_active"),t.innerHTML=o.getAttribute("data-address")})}})()};